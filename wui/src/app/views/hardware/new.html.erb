<div class="dialog_title_small">
  <div class="header">Add New Hardware Pool</div>
  <div>Add a new Hardware Pool to the <%= @parent.name %> pool.
    <%= "Checked #{@resource_type} will be added to the new pool." if @resource_type %>
  </div>
</div>

<form method="POST" action="<%= url_for :action => 'create' %>" id="new_hardware_pool_form" >
<div class="dialog_form">
  <%= render :partial => 'form' %>
</div>
<div style="background: url(<%= image_path "fb_footer.jpg" %>) repeat-x; height: 37px; text-align:right; padding: 9px 9px 0 0;">
  <div>
    <input type="image" name="submitButton" value="Submit2" src="<%= image_path "btn_addstorage.png"%>" alt="Create Hardware Pool" />
    <a href="#" onclick="jQuery(document).trigger('close.facebox')"><%=image_tag "btn_cancel.png", :title=>"Cancel" %></a>
  </div>
</div>
</form>
  <script type="text/javascript">
$(function() {
    var hwpooloptions = {
        target:        '<%= url_for :action => 'create' %>',   // target element to update
	dataType:      'json',
        success:       afterNewHwPool  // post-submit callback
    };

    // bind form using 'ajaxForm' 
    $('#new_hardware_pool_form').ajaxForm(hwpooloptions); 
});
function afterNewHwPool(response, status){
    jQuery(document).trigger('close.facebox');
    // FIXME do we need to reload the tree here
    <%= "$('##{@resource_type}_grid').flexReload()" if @resource_type %>
    //$("#vmpools_grid").flexReload()
}
</script>

<%- content_for :title do -%>
<%= _("New Hardware Pool") %>
<%- end -%>


